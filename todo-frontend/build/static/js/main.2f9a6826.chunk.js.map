{"version":3,"sources":["components/TodoItem.js","components/config.js","components/TodoList.js","components/Login.js","App.js","index.js"],"names":["ToDoItem","item","isSubTask","todos","updateTodoTask","setTodos","onAddSubtask","onDeleteCall","onDeleteSubtaskCall","parentId","useState","isParentEdit","setIsParentEdit","editTodo","setEditTodo","value","id","findParentNode","find","updateSubTask","console","log","foundParent","filtered","subtasks","filter","length","push","b","ClickAwayListener","onClickAway","className","Input","defaultValue","style","onChange","e","parentNode","subTask","target","setInTodos","onKeyDown","event","key","autoFocus","ListItem","role","undefined","dense","button","ListItemText","primary","ListItemSecondaryAction","Tooltip","title","placement","IconButton","onClick","edge","aria-label","foundSubTaskNode","onEditTask","onDelete","config","loginUrl","window","location","hostname","todosUrl","useStyles","makeStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","TodoList","classes","todoItem","setTodoItem","createUpdateTodo","parentobj","a","path","fetch","method","mode","cache","credentials","headers","localStorage","getItem","redirect","referrerPolicy","body","JSON","stringify","response","json","data","deleteTodo","fetchTodos","res","useEffect","setTimeout","subtaskId","findIndex","parent","filteredSubtask","todo","prompt","todoObj","uuidv4","TodoListMemo","useMemo","List","map","subtask","to","removeItem","disableUnderline","placeholder","Login","username","setUsername","password","setPassword","history","useHistory","token","onChangeInput","name","onSubmit","preventDefault","setItem","alert","type","App","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2f9a6826.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  IconButton,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Input from '@material-ui/core/Input';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\n\r\n\r\nexport default function ToDoItem({item,isSubTask,todos,setTodos,updateTodoTask,\r\n    onAddSubtask,onDeleteCall,onDeleteSubtaskCall,parentId}) {\r\n\r\n    const [isParentEdit,setIsParentEdit] = useState(false);\r\n    \r\n    const [editTodo,setEditTodo] = useState('');\r\n    const {value,id} = item;\r\n\r\n\r\n    const findParentNode = (parentId) =>{\r\n        return todos?.find(item=> item.id === parentId);\r\n    }\r\n\r\n    const updateTask = () =>{\r\n        setIsParentEdit(false);\r\n        // const filtered = todos && todos.filter(item => item.id !== editTodo.id)\r\n        // console.log('---> before ',filtered)\r\n        // const a = editTodo ? filtered.push(editTodo) : '';\r\n        // console.log('---> ',filtered)\r\n        // const updatedTodos = uniqBy(filtered, 'id')\r\n        // // const set = new Set([...todos, editTodo]);\r\n        // setTodos && setTodos(updatedTodos)\r\n        // console.log(updatedTodos)\r\n        updateTodoTask(editTodo)\r\n        setEditTodo('')\r\n    }\r\n\r\n    const updateSubTask = () =>{\r\n        setIsParentEdit(false);\r\n        console.log('click away')\r\n        const foundParent = findParentNode(parentId);\r\n        console.log('foundParent before ',foundParent)\r\n        const filtered = foundParent?.subtasks?.filter(item => item.id !== editTodo.id);\r\n        \r\n        console.log('filtered ',filtered)\r\n        if(!filtered.length){ //if there is not sub task\r\n            foundParent.subtasks = [editTodo]\r\n        } else{\r\n            console.log('else part')\r\n            filtered?.push(editTodo);\r\n            console.log('filtered elese',filtered)\r\n            foundParent.subtasks = filtered;\r\n            foundParent.subtasks = foundParent.subtasks.filter((b)=>{\r\n                if(b) return b\r\n            })\r\n        }\r\n        console.log('foundParent =>after ',foundParent)\r\n        \r\n        updateTodoTask(foundParent)\r\n        // todos.push(foundParent);\r\n        \r\n        // const updatedTodos = uniqBy(todos, 'id')\r\n        // console.log(updatedTodos)\r\n        // setTodos && setTodos(updatedTodos)\r\n        // setEditTodo('')\r\n    }\r\n\r\n    const handleClickAway = () => {\r\n        console.log('away ',editTodo)\r\n        if(isSubTask){\r\n            updateSubTask()\r\n        }else{\r\n            updateTodoTask(editTodo)\r\n        }\r\n        // updateTodoTask(editTodo)\r\n        setIsParentEdit(false);\r\n        // if(isSubTask && editTodo){\r\n        //     updateSubTask()\r\n        // }\r\n        // else if(editTodo){\r\n        //     updateTask()\r\n        // }\r\n    };\r\n\r\n    \r\n\r\n    const onDelete = (id) =>{\r\n        console.log('on delete ',id)\r\n        onDeleteCall(id);\r\n    }\r\n\r\n    const onEditTask = (parentId,id) =>{\r\n        if(isSubTask){\r\n            console.log('sub task edit')\r\n            const foundParent = findParentNode(parentId)\r\n            console.log('foundParent ',foundParent)\r\n            const foundSubTaskNode = foundParent?.subtasks.find(item=> item.id === id);\r\n            console.log('foundSubTaskNode ',foundSubTaskNode)\r\n            setEditTodo(foundSubTaskNode)\r\n            setIsParentEdit(true);\r\n        }else{\r\n            setIsParentEdit(true);\r\n            const foundParent = findParentNode(id) //todos.find(item=> item.id === id);\r\n            setEditTodo(foundParent)\r\n        }\r\n    }\r\n\r\n    const setInTodos = (e) =>{\r\n        if(isSubTask){\r\n            const parentNode = findParentNode(parentId);\r\n            const subTask = parentNode?.subtasks.find(item=>item.id === id);\r\n            setEditTodo({...subTask, value: e.target.value})\r\n        }else{\r\n            const foundParent = todos.find(item=> item.id === id);\r\n            setEditTodo({...foundParent, value: e.target.value})\r\n        }\r\n    }\r\n\r\n    \r\n    const handleKeyDown = (event) =>{\r\n        if(isSubTask && event.key === 'Enter'){\r\n            console.log('sub')\r\n            updateSubTask()\r\n        }\r\n        else if (event.key === 'Enter') {\r\n            updateTask()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <ClickAwayListener onClickAway={handleClickAway}>\r\n        <div className=\"todo__container\">\r\n            {isParentEdit ? \r\n                <Input\r\n                    defaultValue={editTodo?.value}\r\n                    style={{\"width\": \"330px\"}}\r\n                    onChange={e=>setInTodos(e)}\r\n                    onKeyDown={handleKeyDown}\r\n                    autoFocus\r\n                /> :\r\n                <div className={isSubTask ? \"todo__itemSubtask\" : \"todo__item\"}>\r\n                    <ListItem key={id} role={undefined} dense button>\r\n                        <ListItemText id={id} primary={value} />\r\n                        <ListItemSecondaryAction>\r\n                            {isSubTask ? '' :<Tooltip title=\"Add Subtask\" placement=\"left-start\">\r\n                                <IconButton onClick={()=>onAddSubtask(id)} edge=\"end\" aria-label=\"add\">\r\n                                    <AddIcon/>\r\n                                </IconButton>\r\n                            </Tooltip>}\r\n\r\n                            <Tooltip  title=\"Edit\" placement=\"top\">\r\n                                <IconButton edge=\"end\" aria-label=\"edit\" onClick={()=>{onEditTask(parentId,id)}}>\r\n                                    <EditIcon />\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                            <Tooltip title=\"Delete\" placement=\"right-start\">\r\n                                <IconButton onClick={()=>isSubTask ? onDeleteSubtaskCall(parentId,id) : onDelete(id)} edge=\"end\" aria-label=\"comments\">\r\n                                    <DeleteIcon />\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </ListItemSecondaryAction>\r\n                    </ListItem>\r\n                </div>\r\n            }\r\n        </div>\r\n    </ClickAwayListener>\r\n    );\r\n  }\r\n  ","\r\nexport const config = {\r\n    // loginUrl: 'http://localhost:5000/login',\r\n    // todosUrl: 'http://localhost:5000/todos'\r\n    loginUrl: `http://${window.location.hostname}/api/login`,\r\n    todosUrl: `http://${window.location.hostname}/api/todos`\r\n}","import React,{useState,useEffect,useMemo} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ToDoItem from './TodoItem';\r\nimport Input from '@material-ui/core/Input';\r\nimport {Link} from 'react-router-dom'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport {config} from './config';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n      maxWidth: 360,\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n}));\r\n\r\nfunction TodoList() {\r\n    const classes = useStyles();\r\n\r\n    const [todos, setTodos] = useState([])\r\n    const [todoItem,setTodoItem] = useState('')\r\n\r\n    const createUpdateTodo = async (id,parentobj) =>{\r\n        if(id || parentobj){\r\n            const path = id ? `${config.todosUrl}/${id}`: config.todosUrl;\r\n            console.log(' path => ',path)\r\n            const response = await fetch(path,{\r\n                method: id ? 'PUT' :'POST', // *GET, POST, PUT, DELETE, etc.\r\n                mode: 'cors', // no-cors, *cors, same-origin\r\n                cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n                credentials: 'same-origin', // include, *same-origin, omit\r\n                headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': `Bearer ${localStorage.getItem('token')}`\r\n                // 'Content-Type': 'application/x-www-form-urlencoded',\r\n                },\r\n                redirect: 'follow', // manual, *follow, error\r\n                referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n                body: JSON.stringify(id ? parentobj : todoItem) \r\n            })\r\n            const data = await response.json()\r\n            console.log('create todo res ',data)\r\n        }\r\n    }\r\n\r\n    const deleteTodo = async (id) =>{\r\n        const path = `${config.todosUrl}/${id}`;\r\n        const response = await fetch(path,{\r\n            method:'DELETE', // *GET, POST, PUT, DELETE, etc.\r\n            mode: 'cors', // no-cors, *cors, same-origin\r\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            credentials: 'same-origin', // include, *same-origin, omit\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            'authorization': `Bearer ${localStorage.getItem('token')}`\r\n            // 'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n            redirect: 'follow', // manual, *follow, error\r\n            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n            // body: JSON.stringify(id ? parentobj : todoItem) \r\n        })\r\n        const data = await response.json()\r\n        console.log('create todo res ',data)\r\n    }\r\n\r\n    \r\n\r\n    const fetchTodos =async () =>{\r\n        const response = await fetch(config.todosUrl,{\r\n            method: 'GET', // *GET, POST, PUT, DELETE, etc.\r\n            mode: 'cors', // no-cors, *cors, same-origin\r\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            credentials: 'same-origin', // include, *same-origin, omit\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': `Bearer ${localStorage.getItem('token')}`\r\n            // 'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n            redirect: 'follow', // manual, *follow, error\r\n            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n        })\r\n        const res = await response.json()\r\n        const {data} = res;\r\n        console.log('updated data',data)\r\n        if(data?.length){\r\n            setTodos(data);\r\n        }else{\r\n            setTodos([])\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetchTodos()\r\n    },[])\r\n\r\n    const setInTodos = (e) =>{\r\n        const todoObj = {\r\n            id:uuidv4(),\r\n            value:e.target.value,\r\n            subtasks: [\r\n            ]\r\n        }\r\n        setTodoItem(todoObj)\r\n    }\r\n\r\n    \r\n    const handleKeyDown = (event) => {\r\n        if (event.key === 'Enter' && todoItem) {\r\n            createUpdateTodo(false,todoItem);\r\n            fetchTodos()\r\n            const todoObj = {\r\n                id:uuidv4(),\r\n                value:'',\r\n                subtasks: [\r\n                ]\r\n            }\r\n            setTodoItem(todoObj)\r\n        }\r\n    }\r\n    \r\n    // delete parent todo item\r\n    const onDeleteCall = (id) =>{\r\n        console.log('TodoList ',id)\r\n        deleteTodo(id);\r\n        setTimeout(()=>{\r\n            fetchTodos();\r\n        },500)\r\n        // const filteredList = todos.filter(item=> item.id !== id);\r\n        // console.log(filteredList)\r\n        // setTodos(filteredList)\r\n    }\r\n\r\n    const onDeleteSubtaskCall = (parentId,subtaskId)=>{\r\n        const foundParent = todos.findIndex(item=> item.id === parentId);\r\n        const parent = todos[foundParent];\r\n        const filteredSubtask = parent && parent.subtasks.filter(item=> item.id !== subtaskId)\r\n        parent.subtasks = filteredSubtask;\r\n        createUpdateTodo(parentId,parent);\r\n        setTimeout(()=>{\r\n            fetchTodos();\r\n        },500)\r\n        // const set = new Set([...todos,parent]);\r\n        // setTodos([...set])\r\n    }\r\n\r\n    const onAddSubtask = (parentId)=>{\r\n        const todo = prompt(\"Please enter your subtask\", \"\");\r\n        if (todo) {\r\n            const todoObj = {\r\n                id:uuidv4(),\r\n                value: todo\r\n            }\r\n            const foundParent = todos.findIndex(item=> item.id === parentId);\r\n            const parent = todos[foundParent];\r\n            parent && parent.subtasks.push(todoObj);\r\n            createUpdateTodo(parentId,parent);\r\n            setTimeout(()=>{\r\n                fetchTodos();\r\n            },500)\r\n        }\r\n    }\r\n    \r\n    const onLogout = (e) =>{\r\n        localStorage.removeItem('token');\r\n    }\r\n\r\n    const updateTodoTask= (editTodo) =>{\r\n        if(editTodo){\r\n            console.log(' parentId,editTodo ',editTodo?.id,editTodo)\r\n            createUpdateTodo(editTodo?.id,editTodo);\r\n            setTimeout(()=>{\r\n                fetchTodos();\r\n            },500)\r\n        }\r\n    }\r\n\r\n    const TodoListMemo = useMemo(()=> { \r\n        return <List className={classes.root} id=\"container\">\r\n                {todos.map((item) => {\r\n                    return (\r\n                        <div key={item.id} className=\"todo_task\" >\r\n                            <ToDoItem\r\n                                item={item}\r\n                                key={item.id}\r\n                                onDeleteCall={onDeleteCall}\r\n                                onAddSubtask={onAddSubtask}\r\n                                todos= {todos}\r\n                                setTodos={setTodos}\r\n                                updateTodoTask= {updateTodoTask}\r\n                            />\r\n                            {\r\n                                (item.subtasks && item.subtasks.length) ? \r\n                                    item.subtasks.map((subtask)=>{  \r\n                                        return subtask ? (<div className=\"todo_subtask\" key={subtask.id} >\r\n                                                <ToDoItem\r\n                                                    isSubTask={true}\r\n                                                    parentId={item.id}\r\n                                                    item={subtask}\r\n                                                    key={subtask.id}\r\n                                                    todos= {todos}\r\n                                                    setTodos={setTodos}\r\n                                                    updateTodoTask= {updateTodoTask}\r\n                                                    onDeleteSubtaskCall={onDeleteSubtaskCall}\r\n                                                /> \r\n                                        </div>): null\r\n                                }): <div></div>\r\n                            }\r\n                        </div>\r\n                    );\r\n                })}\r\n        </List>; \r\n    }, [todos])\r\n\r\n    return (\r\n        <div className=\"todo_list\">\r\n            <div className=\"todo_header\">\r\n                <h1>Todo App</h1>\r\n                <Link to=\"/\" onClick={()=>onLogout()}>Logout</Link>\r\n            </div>\r\n            <div className=\"todo__input\">\r\n                <Input\r\n                    disableUnderline={true}\r\n                    value={todoItem?.value}\r\n                    placeholder={\"Please Enter Todo Task\"}\r\n                    style={{\"width\": \"330px\"}}\r\n                    onChange={e=>setInTodos(e)}\r\n                    onKeyDown={handleKeyDown}\r\n                />\r\n                {TodoListMemo}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default TodoList\r\n","import React,{useState,useEffect} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {config} from './config';\r\n/* \r\nTodo\r\n= Design todo subtask - done\r\n= what is the login for CRUD of subtask - done\r\n0. Design todo task - done\r\n1. Design Login page - done\r\n2. add Login functionality-done\r\n3. when page is refresh user should logged in\r\n4. add Rest api for login and get JWT token and authorize subsequent api calls\r\n5. CRUD api for todo\r\n6. Node js setup with mongo\r\n7. UI docker file\r\n8. Node docker file\r\n9. docker compose\r\n10. Deploye on Cloude\r\n*/\r\n\r\nfunction Login() {\r\n    const [username,setUsername] = useState('');\r\n    const [password,setPassword] = useState('');\r\n    const history = useHistory();\r\n\r\n    useEffect(()=>{\r\n        const token = localStorage.getItem('token');\r\n        console.log('token useEffect',token)\r\n        if(token){\r\n            // return <Redirect to='/todos'/>;\r\n            history.push('/todos');\r\n        }\r\n    })\r\n    const onChangeInput = (e) =>{\r\n        console.log(e.target.name, e.target.value )\r\n        if(e.target.name === 'username'){\r\n            setUsername(e.target.value)\r\n        }else{\r\n            setPassword(e.target.value)\r\n        }\r\n    }\r\n\r\n\r\n    const onSubmit =async (e) =>{\r\n        e.preventDefault();\r\n        console.log(username,password)\r\n        if(username  && password){\r\n            console.log('config.loginUrl ',config.loginUrl)\r\n            const response = await fetch(config.loginUrl,{\r\n                method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n                mode: 'cors', // no-cors, *cors, same-origin\r\n                cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n                credentials: 'same-origin', // include, *same-origin, omit\r\n                headers: {\r\n                'Content-Type': 'application/json'\r\n                // 'Content-Type': 'application/x-www-form-urlencoded',\r\n                },\r\n                redirect: 'follow', // manual, *follow, error\r\n                referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n                body: JSON.stringify({username,password}) \r\n            })\r\n            const data = await response.json()\r\n            const {token} = data;\r\n            console.log('response => ',data,token)\r\n            if(token){\r\n                history.push('/todos');\r\n                localStorage.setItem('token',token);\r\n            }else{\r\n                alert('Username or Password is wrong')\r\n            }\r\n        }else{\r\n            alert('Wrong credentials')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login_container\">\r\n                <h1>Please Sign In</h1>\r\n                <form onSubmit={onSubmit}>\r\n                    <input name=\"username\" type=\"text\" onChange={onChangeInput}  value={username}/><br></br>\r\n                    <input name=\"password\" type=\"password\" onChange={onChangeInput} value={password}/><br></br>\r\n                    <button onClick={onSubmit}>Sign In</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import './App.css';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport TodoList from './components/TodoList';\nimport Login from './components/Login';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <Login/>\n          </Route>\n          <Route exact path=\"/todos\">\n            <TodoList/>\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));\n\n"],"sourceRoot":""}